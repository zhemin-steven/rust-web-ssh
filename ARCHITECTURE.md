# WebSSH æ¶æ„è¯´æ˜ / Architecture Documentation

## ğŸ“ ç³»ç»Ÿæ¶æ„ / System Architecture

### æ•´ä½“æ¶æ„ / Overall Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Browser / æµè§ˆå™¨                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  index.html  â”‚  â”‚   app.js     â”‚  â”‚   i18n.js    â”‚      â”‚
â”‚  â”‚  login.html  â”‚  â”‚  (1066 è¡Œ)   â”‚  â”‚  (å›½é™…åŒ–)     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                                 â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   style.css    â”‚                        â”‚
â”‚                    â”‚   (847 è¡Œ)     â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    HTTP/WebSocket
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Rust Backend / åç«¯                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    main.rs                           â”‚   â”‚
â”‚  â”‚  - HTTP Server (Warp)                                â”‚   â”‚
â”‚  â”‚  - WebSocket Handler                                 â”‚   â”‚
â”‚  â”‚  - Static File Serving                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚              â”‚              â”‚              â”‚       â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ api.rs  â”‚   â”‚ auth.rs â”‚   â”‚crypto.rsâ”‚   â”‚audit.rs â”‚  â”‚
â”‚    â”‚ (API)   â”‚   â”‚ (è®¤è¯)  â”‚   â”‚ (åŠ å¯†)  â”‚   â”‚ (æ—¥å¿—)  â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚              â”‚              â”‚              â”‚       â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ssh_     â”‚   â”‚    host_key.rs         â”‚   â”‚  data/  â”‚  â”‚
â”‚    â”‚config.rsâ”‚   â”‚  (ä¸»æœºå¯†é’¥éªŒè¯)         â”‚   â”‚ (JSON)  â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                        SSH åè®®
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SSH Server / SSH æœåŠ¡å™¨                    â”‚
â”‚                    (è¿œç¨‹ Linux/Unix ä¸»æœº)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” å®‰å…¨æ¶æ„ / Security Architecture

### è®¤è¯æµç¨‹ / Authentication Flow

```
1. ç”¨æˆ·ç™»å½• / User Login
   â”œâ”€ è¾“å…¥ç”¨æˆ·åå¯†ç  / Enter credentials
   â”œâ”€ Bcrypt éªŒè¯ (cost=12) / Bcrypt verification
   â”œâ”€ TOTP 2FA éªŒè¯ (å¯é€‰) / TOTP 2FA (optional)
   â””â”€ ç”Ÿæˆ JWT Token (24h) / Generate JWT token

2. API è¯·æ±‚ / API Request
   â”œâ”€ æºå¸¦ JWT Token / Include JWT token
   â”œâ”€ Token éªŒè¯ / Token verification
   â””â”€ æƒé™æ£€æŸ¥ / Permission check

3. SSH è¿æ¥ / SSH Connection
   â”œâ”€ ä»åŠ å¯†å­˜å‚¨è¯»å–å‡­è¯ / Read encrypted credentials
   â”œâ”€ AES-256-GCM è§£å¯† / AES-256-GCM decryption
   â”œâ”€ ä¸»æœºå¯†é’¥éªŒè¯ / Host key verification
   â””â”€ å»ºç«‹ SSH è¿æ¥ / Establish SSH connection
```

### åŠ å¯†å±‚æ¬¡ / Encryption Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 1: ä¼ è¾“å±‚åŠ å¯† / Transport Encryption                   â”‚
â”‚  - HTTPS (TLS 1.2+)                                         â”‚
â”‚  - WebSocket Secure (WSS)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 2: åº”ç”¨å±‚åŠ å¯† / Application Encryption                 â”‚
â”‚  - JWT Token (HS256)                                        â”‚
â”‚  - Bcrypt Password Hashing (cost=12)                        â”‚
â”‚  - TOTP Secret (Base32)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 3: æ•°æ®å±‚åŠ å¯† / Data Encryption                        â”‚
â”‚  - AES-256-GCM (SSH å¯†ç )                                   â”‚
â”‚  - PBKDF2-HMAC-SHA256 (å¯†é’¥æ´¾ç”Ÿ, 600k è¿­ä»£)                 â”‚
â”‚  - Master Password Protection                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 4: SSH åè®®åŠ å¯† / SSH Protocol Encryption              â”‚
â”‚  - SSH-2 Protocol                                           â”‚
â”‚  - Host Key Verification                                    â”‚
â”‚  - Encrypted Channel                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š æ•°æ®æµ / Data Flow

### SSH è¿æ¥æ•°æ®æµ / SSH Connection Data Flow

```
Browser                 Backend                 SSH Server
   â”‚                       â”‚                        â”‚
   â”‚  1. WebSocket è¿æ¥    â”‚                        â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
   â”‚                       â”‚                        â”‚
   â”‚  2. å‘é€è¿æ¥è¯·æ±‚       â”‚                        â”‚
   â”‚  {host, port, user}   â”‚                        â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
   â”‚                       â”‚  3. å»ºç«‹ SSH è¿æ¥      â”‚
   â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                       â”‚                        â”‚
   â”‚                       â”‚  4. SSH æ¡æ‰‹å®Œæˆ       â”‚
   â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚  5. è¿æ¥æˆåŠŸé€šçŸ¥       â”‚                        â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
   â”‚                       â”‚                        â”‚
   â”‚  6. ç”¨æˆ·è¾“å…¥ (stdin)   â”‚                        â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  7. è½¬å‘åˆ° SSH        â”‚
   â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                       â”‚                        â”‚
   â”‚                       â”‚  8. SSH è¾“å‡º (stdout)  â”‚
   â”‚  9. æ˜¾ç¤ºè¾“å‡º          â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
   â”‚                       â”‚                        â”‚
   â”‚  (å¾ªç¯ 6-9)           â”‚  (å¾ªç¯ 7-8)            â”‚
   â”‚                       â”‚                        â”‚
   â”‚  10. æ–­å¼€è¿æ¥         â”‚                        â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  11. å…³é—­ SSH         â”‚
   â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                       â”‚                        â”‚
```

## ğŸ¨ å‰ç«¯æ¶æ„ / Frontend Architecture

### æ¨¡å—åˆ’åˆ† / Module Division

```
static/
â”œâ”€â”€ index.html (ä¸»é¡µé¢)
â”‚   â”œâ”€â”€ è¿æ¥è¡¨å• / Connection Form
â”‚   â”œâ”€â”€ é…ç½®åˆ—è¡¨ / Config List
â”‚   â”œâ”€â”€ ç»ˆç«¯å®¹å™¨ / Terminal Container
â”‚   â””â”€â”€ æ¨¡æ€æ¡† / Modals (2FA, å¯†ç , å®¡è®¡æ—¥å¿—)
â”‚
â”œâ”€â”€ login.html (ç™»å½•é¡µé¢)
â”‚   â”œâ”€â”€ ç™»å½•è¡¨å• / Login Form
â”‚   â””â”€â”€ 2FA éªŒè¯ / 2FA Verification
â”‚
â”œâ”€â”€ app.js (ä¸»é€»è¾‘, 1066 è¡Œ)
â”‚   â”œâ”€â”€ è®¤è¯æ¨¡å— / Authentication (50 è¡Œ)
â”‚   â”œâ”€â”€ 2FA ç®¡ç† / 2FA Management (180 è¡Œ)
â”‚   â”œâ”€â”€ å¯†ç ä¿®æ”¹ / Password Change (100 è¡Œ)
â”‚   â”œâ”€â”€ å®¡è®¡æ—¥å¿— / Audit Log (80 è¡Œ)
â”‚   â”œâ”€â”€ é…ç½®ç®¡ç† / Config Management (150 è¡Œ)
â”‚   â”œâ”€â”€ SSH è¿æ¥ / SSH Connection (200 è¡Œ)
â”‚   â”œâ”€â”€ ç»ˆç«¯ç®¡ç† / Terminal Management (200 è¡Œ)
â”‚   â””â”€â”€ å·¥å…·å‡½æ•° / Utilities (106 è¡Œ)
â”‚
â”œâ”€â”€ i18n.js (å›½é™…åŒ–, 320 è¡Œ)
â”‚   â”œâ”€â”€ ç¿»è¯‘å­—å…¸ / Translation Dictionary
â”‚   â”œâ”€â”€ è¯­è¨€åˆ‡æ¢ / Language Switching
â”‚   â””â”€â”€ DOM æ›´æ–° / DOM Update
â”‚
â””â”€â”€ style.css (æ ·å¼, 847 è¡Œ)
    â”œâ”€â”€ å…¨å±€æ ·å¼ / Global Styles (50 è¡Œ)
    â”œâ”€â”€ è¡¨å•æ ·å¼ / Form Styles (200 è¡Œ)
    â”œâ”€â”€ ç»ˆç«¯æ ·å¼ / Terminal Styles (100 è¡Œ)
    â”œâ”€â”€ æ¨¡æ€æ¡†æ ·å¼ / Modal Styles (200 è¡Œ)
    â”œâ”€â”€ æŒ‰é’®æ ·å¼ / Button Styles (150 è¡Œ)
    â””â”€â”€ å“åº”å¼æ ·å¼ / Responsive Styles (147 è¡Œ)
```

### å…³é”®æŠ€æœ¯ç‚¹ / Key Technical Points

#### 1. ç»ˆç«¯æ»šåŠ¨ä¼˜åŒ– / Terminal Scroll Optimization

```javascript
// æ ¸å¿ƒæ»šåŠ¨å‡½æ•° / Core scroll function
function scrollTerminalToBottom() {
    if (!terminal || scrollPending) return;
    scrollPending = true;
    
    requestAnimationFrame(() => {
        terminal.scrollToBottom();
        const viewport = document.querySelector('.xterm-viewport');
        if (viewport) {
            viewport.scrollTop = viewport.scrollHeight + 100; // é¢å¤–åç§»
        }
        
        setTimeout(() => {
            // åŒé‡ç¡®ä¿æœºåˆ¶
            if (terminal) terminal.scrollToBottom();
            if (viewport) viewport.scrollTop = viewport.scrollHeight + 100;
            scrollPending = false;
        }, 100);
    });
}

// èŠ‚æµç‰ˆæœ¬ / Throttled version
const scrollTerminalThrottled = debounce(scrollTerminalToBottom, 100);
```

**å…³é”®ç‚¹ï¼š**
- ä½¿ç”¨ `requestAnimationFrame` ç¡®ä¿åœ¨æ¸²æŸ“åæ‰§è¡Œ
- é¢å¤– +100px åç§»ç¡®ä¿å…‰æ ‡å®Œå…¨å¯è§
- åŒé‡ç¡®ä¿æœºåˆ¶ï¼ˆç«‹å³ + å»¶è¿Ÿ 100msï¼‰
- èŠ‚æµé¿å…é¢‘ç¹è°ƒç”¨å½±å“æ€§èƒ½

#### 2. ç§»åŠ¨ç«¯é€‚é… / Mobile Adaptation

```css
/* åŠ¨æ€è§†å£é«˜åº¦ / Dynamic viewport height */
#terminal-container {
    height: 100dvh !important;  /* é€‚åº”åœ°å€æ æ˜¾ç¤º/éšè— */
    min-height: -webkit-fill-available;  /* iOS å…¼å®¹ */
}

/* ç¡¬ä»¶åŠ é€Ÿ / Hardware acceleration */
.xterm-viewport {
    transform: translateZ(0);
    -webkit-overflow-scrolling: touch;
}

/* æ¶ˆé™¤ç™½è¾¹ / Remove white edges */
.xterm,
.xterm-viewport,
.xterm-screen,
.xterm-rows {
    padding: 0 !important;
    margin: 0 !important;
    background-color: #1e1e1e !important;
}
```

**å…³é”®ç‚¹ï¼š**
- `100dvh` åŠ¨æ€è§†å£é«˜åº¦
- ç¡¬ä»¶åŠ é€Ÿæå‡æ€§èƒ½
- å¼ºåˆ¶ç§»é™¤æ‰€æœ‰ padding/margin
- ç»Ÿä¸€èƒŒæ™¯è‰²æ¶ˆé™¤ç™½è¾¹

#### 3. ç°ä»£ API ä½¿ç”¨ / Modern API Usage

```javascript
// Base64 ç¼–ç  / Base64 encoding
const utf8ToBase64 = (str) => {
    const encoder = new TextEncoder();
    const data = encoder.encode(str);
    return btoa(String.fromCharCode(...data));
};

// å‰ªè´´æ¿å¤åˆ¶ / Clipboard copy
async function copyText(text) {
    if (navigator.clipboard && navigator.clipboard.writeText) {
        await navigator.clipboard.writeText(text);
    } else {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
    }
}
```

## ğŸ”§ åç«¯æ¶æ„ / Backend Architecture

### æ¨¡å—èŒè´£ / Module Responsibilities

```
src/
â”œâ”€â”€ main.rs (ä¸»ç¨‹åº, 500+ è¡Œ)
â”‚   â”œâ”€â”€ HTTP æœåŠ¡å™¨åˆå§‹åŒ–
â”‚   â”œâ”€â”€ WebSocket å¤„ç†
â”‚   â”œâ”€â”€ é™æ€æ–‡ä»¶æœåŠ¡
â”‚   â””â”€â”€ è·¯ç”±é…ç½®
â”‚
â”œâ”€â”€ api.rs (API è·¯ç”±, 300+ è¡Œ)
â”‚   â”œâ”€â”€ ç”¨æˆ·ç®¡ç† API
â”‚   â”œâ”€â”€ é…ç½®ç®¡ç† API
â”‚   â”œâ”€â”€ å®¡è®¡æ—¥å¿— API
â”‚   â””â”€â”€ 2FA ç®¡ç† API
â”‚
â”œâ”€â”€ auth.rs (è®¤è¯æ¨¡å—, 200+ è¡Œ)
â”‚   â”œâ”€â”€ JWT ç”Ÿæˆå’ŒéªŒè¯
â”‚   â”œâ”€â”€ å¯†ç å“ˆå¸Œå’ŒéªŒè¯
â”‚   â”œâ”€â”€ TOTP éªŒè¯
â”‚   â””â”€â”€ æƒé™æ£€æŸ¥
â”‚
â”œâ”€â”€ crypto.rs (åŠ å¯†æ¨¡å—, 150+ è¡Œ)
â”‚   â”œâ”€â”€ AES-256-GCM åŠ å¯†/è§£å¯†
â”‚   â”œâ”€â”€ PBKDF2 å¯†é’¥æ´¾ç”Ÿ
â”‚   â””â”€â”€ éšæœºæ•°ç”Ÿæˆ
â”‚
â”œâ”€â”€ ssh_config.rs (é…ç½®ç®¡ç†, 200+ è¡Œ)
â”‚   â”œâ”€â”€ é…ç½® CRUD æ“ä½œ
â”‚   â”œâ”€â”€ åŠ å¯†å­˜å‚¨
â”‚   â””â”€â”€ é…ç½®éªŒè¯
â”‚
â”œâ”€â”€ audit.rs (å®¡è®¡æ—¥å¿—, 150+ è¡Œ)
â”‚   â”œâ”€â”€ æ—¥å¿—è®°å½•
â”‚   â”œâ”€â”€ æ—¥å¿—æŸ¥è¯¢
â”‚   â””â”€â”€ æ—¥å¿—æ¸…ç†
â”‚
â””â”€â”€ host_key.rs (ä¸»æœºå¯†é’¥, 100+ è¡Œ)
    â”œâ”€â”€ å¯†é’¥å­˜å‚¨
    â”œâ”€â”€ å¯†é’¥éªŒè¯
    â””â”€â”€ å¯†é’¥æ›´æ–°
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ– / Performance Optimization

### å‰ç«¯ä¼˜åŒ– / Frontend Optimization

1. **ä»£ç ç²¾ç®€** - åˆ é™¤å†—ä½™ä»£ç ï¼Œå‡å°‘ 50+ è¡Œ
2. **èŠ‚æµæ»šåŠ¨** - ä½¿ç”¨ debounce é™åˆ¶æ»šåŠ¨é¢‘ç‡
3. **ç¡¬ä»¶åŠ é€Ÿ** - CSS transform å¯ç”¨ GPU åŠ é€Ÿ
4. **ç¼“å­˜ä¼˜åŒ–** - ç¼“å­˜ DOM æŸ¥è¯¢ç»“æœ
5. **å¼‚æ­¥æ“ä½œ** - ä½¿ç”¨ async/await é¿å…é˜»å¡

### åç«¯ä¼˜åŒ– / Backend Optimization

1. **å¼‚æ­¥ I/O** - Tokio å¼‚æ­¥è¿è¡Œæ—¶
2. **è¿æ¥æ± ** - å¤ç”¨ SSH è¿æ¥
3. **å†…å­˜ç®¡ç†** - Rust é›¶æˆæœ¬æŠ½è±¡
4. **å¹¶å‘å¤„ç†** - å¤šçº¿ç¨‹å¤„ç†è¯·æ±‚
5. **ç¼“å­˜ç­–ç•¥** - é™æ€æ–‡ä»¶ç¼“å­˜

## ğŸ¯ æœ€ä½³å®è·µ / Best Practices

### å®‰å…¨æœ€ä½³å®è·µ / Security Best Practices

1. âœ… ä½¿ç”¨å¼ºåŠ å¯†ç®—æ³•ï¼ˆAES-256-GCM, PBKDF2ï¼‰
2. âœ… å®æ–½å¤šå› ç´ è®¤è¯ï¼ˆ2FAï¼‰
3. âœ… å®Œæ•´çš„å®¡è®¡æ—¥å¿—
4. âœ… ä¸»æœºå¯†é’¥éªŒè¯
5. âœ… æœ€å°æƒé™åŸåˆ™

### ä»£ç æœ€ä½³å®è·µ / Code Best Practices

1. âœ… ä½¿ç”¨ç°ä»£ APIï¼Œé¿å…åºŸå¼ƒæ–¹æ³•
2. âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
3. âœ… å®Œå–„çš„æ³¨é‡Šæ–‡æ¡£
4. âœ… æ¨¡å—åŒ–è®¾è®¡
5. âœ… ä»£ç å¤ç”¨å’Œç²¾ç®€

### ç”¨æˆ·ä½“éªŒæœ€ä½³å®è·µ / UX Best Practices

1. âœ… å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
2. âœ… å›½é™…åŒ–æ”¯æŒï¼ˆä¸­è‹±æ–‡ï¼‰
3. âœ… æ¸…æ™°çš„é”™è¯¯æç¤º
4. âœ… æµç•…çš„äº¤äº’ä½“éªŒ
5. âœ… æ— éšœç¢è®¿é—®æ”¯æŒ

---

**æ–‡æ¡£ç‰ˆæœ¬:** v1.0.0  
**æœ€åæ›´æ–°:** 2025-10-21  
**ç»´æŠ¤è€…:** steven

